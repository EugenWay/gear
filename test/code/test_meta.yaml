title: meta

programs:
  - id: 1
    path: examples/target/wasm32-unknown-unknown/release/demo_meta.wasm
    meta: examples/target/wasm32-unknown-unknown/release/demo_meta.meta.wasm
    init_message:
      kind: custom
      value:
        value: 1
        annotation: "hello"

fixtures:
  - title: meta
    messages:
      - destination: 1
        payload:
          kind: utf-8
          value: empty here
      - destination: 1
        payload:
          kind: utf-8
          value: empty here
    expected:
      - allocations:
          - page_num: 17
            program_id: 1
          - page_num: 18
            program_id: 1
